<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŠ¨æ€è§„åˆ’ | å¼±é¸¡çš„æŠ€æœ¯æ ˆ</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/coding/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="ä¸è´ªè´¢ï¼Œä¸å¤±ä¿¡ï¼Œä¸è‡ªæ˜¯ï¼Œæœ‰æ­¤ä¸‰çœï¼Œè‡ªç„¶äººçš†æ•¬é‡">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/coding/assets/css/0.styles.7dafa1e0.css" as="style"><link rel="preload" href="/coding/assets/js/app.069c872b.js" as="script"><link rel="preload" href="/coding/assets/js/4.42152b27.js" as="script"><link rel="preload" href="/coding/assets/js/1.41496a03.js" as="script"><link rel="preload" href="/coding/assets/js/32.aab5bb1b.js" as="script"><link rel="prefetch" href="/coding/assets/js/10.4bf5156d.js"><link rel="prefetch" href="/coding/assets/js/11.189754c2.js"><link rel="prefetch" href="/coding/assets/js/12.48d5e44a.js"><link rel="prefetch" href="/coding/assets/js/13.613fee63.js"><link rel="prefetch" href="/coding/assets/js/14.ae065b90.js"><link rel="prefetch" href="/coding/assets/js/15.d3d82ae0.js"><link rel="prefetch" href="/coding/assets/js/16.d01d6e38.js"><link rel="prefetch" href="/coding/assets/js/17.b3da09ae.js"><link rel="prefetch" href="/coding/assets/js/18.1862387f.js"><link rel="prefetch" href="/coding/assets/js/19.2f762035.js"><link rel="prefetch" href="/coding/assets/js/20.5e609aa8.js"><link rel="prefetch" href="/coding/assets/js/21.e62dac87.js"><link rel="prefetch" href="/coding/assets/js/22.b2600812.js"><link rel="prefetch" href="/coding/assets/js/23.d5ed476f.js"><link rel="prefetch" href="/coding/assets/js/24.83c83943.js"><link rel="prefetch" href="/coding/assets/js/25.9f0aa9b4.js"><link rel="prefetch" href="/coding/assets/js/26.9093eeab.js"><link rel="prefetch" href="/coding/assets/js/27.390b22e0.js"><link rel="prefetch" href="/coding/assets/js/28.33c76a33.js"><link rel="prefetch" href="/coding/assets/js/29.8e8cb3ba.js"><link rel="prefetch" href="/coding/assets/js/3.c40dd5c5.js"><link rel="prefetch" href="/coding/assets/js/30.c7702a9a.js"><link rel="prefetch" href="/coding/assets/js/31.b20ebfc1.js"><link rel="prefetch" href="/coding/assets/js/33.b2fade93.js"><link rel="prefetch" href="/coding/assets/js/34.23e702d0.js"><link rel="prefetch" href="/coding/assets/js/35.f7d0cdb5.js"><link rel="prefetch" href="/coding/assets/js/36.fb018670.js"><link rel="prefetch" href="/coding/assets/js/37.84c0eb4b.js"><link rel="prefetch" href="/coding/assets/js/38.76586a0f.js"><link rel="prefetch" href="/coding/assets/js/39.103a982a.js"><link rel="prefetch" href="/coding/assets/js/40.1b77defc.js"><link rel="prefetch" href="/coding/assets/js/41.e45395ed.js"><link rel="prefetch" href="/coding/assets/js/42.87f8ba10.js"><link rel="prefetch" href="/coding/assets/js/43.5ca7b6a7.js"><link rel="prefetch" href="/coding/assets/js/44.fb1c4c71.js"><link rel="prefetch" href="/coding/assets/js/45.42e2edd4.js"><link rel="prefetch" href="/coding/assets/js/46.fd2f8e91.js"><link rel="prefetch" href="/coding/assets/js/47.8709be56.js"><link rel="prefetch" href="/coding/assets/js/48.99e324dc.js"><link rel="prefetch" href="/coding/assets/js/49.23ee39a4.js"><link rel="prefetch" href="/coding/assets/js/5.c2db4407.js"><link rel="prefetch" href="/coding/assets/js/50.631ea24f.js"><link rel="prefetch" href="/coding/assets/js/51.22d40916.js"><link rel="prefetch" href="/coding/assets/js/52.fd8aac12.js"><link rel="prefetch" href="/coding/assets/js/53.489ddc13.js"><link rel="prefetch" href="/coding/assets/js/54.c643a488.js"><link rel="prefetch" href="/coding/assets/js/55.d4c40e25.js"><link rel="prefetch" href="/coding/assets/js/56.631b236d.js"><link rel="prefetch" href="/coding/assets/js/57.27b581e6.js"><link rel="prefetch" href="/coding/assets/js/58.6b9c85fc.js"><link rel="prefetch" href="/coding/assets/js/59.f3f858ad.js"><link rel="prefetch" href="/coding/assets/js/6.b40a3f38.js"><link rel="prefetch" href="/coding/assets/js/60.02480d5f.js"><link rel="prefetch" href="/coding/assets/js/61.0d74f94b.js"><link rel="prefetch" href="/coding/assets/js/62.4cc956a6.js"><link rel="prefetch" href="/coding/assets/js/63.7687429c.js"><link rel="prefetch" href="/coding/assets/js/64.e3f82a7a.js"><link rel="prefetch" href="/coding/assets/js/65.09cd0e8a.js"><link rel="prefetch" href="/coding/assets/js/66.8a8f42af.js"><link rel="prefetch" href="/coding/assets/js/67.e86f4308.js"><link rel="prefetch" href="/coding/assets/js/68.9b3a762b.js"><link rel="prefetch" href="/coding/assets/js/69.c89c677f.js"><link rel="prefetch" href="/coding/assets/js/7.5337cb73.js"><link rel="prefetch" href="/coding/assets/js/70.9dc5daf7.js"><link rel="prefetch" href="/coding/assets/js/71.4ad34164.js"><link rel="prefetch" href="/coding/assets/js/72.1b70d5df.js"><link rel="prefetch" href="/coding/assets/js/73.1c86e495.js"><link rel="prefetch" href="/coding/assets/js/74.e999b25f.js"><link rel="prefetch" href="/coding/assets/js/75.8d8cdef2.js"><link rel="prefetch" href="/coding/assets/js/76.ccc8647f.js"><link rel="prefetch" href="/coding/assets/js/77.fddccb62.js"><link rel="prefetch" href="/coding/assets/js/78.eef3fdb8.js"><link rel="prefetch" href="/coding/assets/js/79.ad1ed0ed.js"><link rel="prefetch" href="/coding/assets/js/8.cab867fd.js"><link rel="prefetch" href="/coding/assets/js/80.4a2b1906.js"><link rel="prefetch" href="/coding/assets/js/81.689b7df3.js"><link rel="prefetch" href="/coding/assets/js/82.4ce4cffc.js"><link rel="prefetch" href="/coding/assets/js/83.f8bfc545.js"><link rel="prefetch" href="/coding/assets/js/9.0ebcf003.js">
    <link rel="stylesheet" href="/coding/assets/css/0.styles.7dafa1e0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>å¼±é¸¡çš„æŠ€æœ¯æ ˆ</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Xiang Liu</span>
          Â Â 
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/coding/" class="home-link router-link-active"><!----> <span class="site-name">å¼±é¸¡çš„æŠ€æœ¯æ ˆ</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/coding/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      ç½—é‡Œå§å—¦
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding/2021/other/" class="nav-link"><i class="iconfont undefined"></i>
  æµ‹è¯•
</a></li></ul></div></div><div class="nav-item"><a href="/coding/2021/algorithm/" class="nav-link router-link-active"><i class="iconfont reco-api"></i>
  ç®—æ³•
</a></div><div class="nav-item"><a href="/coding/2021/thesis/" class="nav-link"><i class="iconfont reco-tongzhi"></i>
  ç ”ç©¶
</a></div><div class="nav-item"><a href="/coding/2021/ml/" class="nav-link"><i class="iconfont reco-douyin"></i>
  æœºå™¨å­¦ä¹ 
</a></div><div class="nav-item"><a href="/coding/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><a href="/coding/2021/other/messageBoard.html" class="nav-link"><i class="iconfont reco-suggestion"></i>
  ç•™è¨€æ¿
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-042e23d4><img src="/coding/avatar.svg" alt="author-avatar" class="personal-img" data-v-042e23d4> <h3 class="name" data-v-042e23d4>
    Xiang Liu
  </h3> <div class="num" data-v-042e23d4><div data-v-042e23d4><h3 data-v-042e23d4>36</h3> <h6 data-v-042e23d4>Article</h6></div> <div data-v-042e23d4><h3 data-v-042e23d4>10</h3> <h6 data-v-042e23d4>Tag</h6></div></div> <hr data-v-042e23d4></div> <nav class="nav-links"><div class="nav-item"><a href="/coding/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      ç½—é‡Œå§å—¦
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding/2021/other/" class="nav-link"><i class="iconfont undefined"></i>
  æµ‹è¯•
</a></li></ul></div></div><div class="nav-item"><a href="/coding/2021/algorithm/" class="nav-link router-link-active"><i class="iconfont reco-api"></i>
  ç®—æ³•
</a></div><div class="nav-item"><a href="/coding/2021/thesis/" class="nav-link"><i class="iconfont reco-tongzhi"></i>
  ç ”ç©¶
</a></div><div class="nav-item"><a href="/coding/2021/ml/" class="nav-link"><i class="iconfont reco-douyin"></i>
  æœºå™¨å­¦ä¹ 
</a></div><div class="nav-item"><a href="/coding/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><a href="/coding/2021/other/messageBoard.html" class="nav-link"><i class="iconfont reco-suggestion"></i>
  ç•™è¨€æ¿
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>algorithm</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/coding/2021/algorithm/" aria-current="page" class="sidebar-link">ä»‹ç»</a></li><li><a href="/coding/2021/algorithm/design.html" class="sidebar-link">è®¾è®¡é¢˜</a></li><li><a href="/coding/2021/algorithm/dp.html" aria-current="page" class="active sidebar-link">åŠ¨æ€è§„åˆ’</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_300-longest-increasing-subsequence" class="sidebar-link">300. Longest Increasing Subsequence</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_354-russian-doll-envelopes" class="sidebar-link">354. Russian Doll Envelopes</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_121-best-time-to-buy-and-sell-stock" class="sidebar-link">121. Best Time to Buy and Sell Stock</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_122-best-time-to-buy-and-sell-stock-ii" class="sidebar-link">122.Best Time to Buy and Sell Stock II</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_123-best-time-to-buy-and-sell-stock-iii" class="sidebar-link">123. Best Time to Buy and Sell Stock III</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_309-best-time-to-buy-and-sell-stock-with-cooldown" class="sidebar-link">309. Best Time to Buy and Sell Stock with Cooldown</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_714-best-time-to-buy-and-sell-stock-with-transaction-fee" class="sidebar-link">714. Best Time to Buy and Sell Stock with Transaction Fee</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_322-coin-change" class="sidebar-link">322. Coin Change</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_518-coin-change-2" class="sidebar-link">518. Coin Change 2</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_416-partition-equal-subset-sum" class="sidebar-link">416. Partition Equal Subset Sum</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_494-target-sum" class="sidebar-link">494. Target Sum</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_474-ones-and-zeroes" class="sidebar-link">474. Ones and Zeroes</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_923-3sum-with-multiplicity" class="sidebar-link">923. 3Sum With Multiplicity</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_413-arithmetic-slices" class="sidebar-link">413. Arithmetic Slices</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_1105-filling-bookcase-shelves" class="sidebar-link">1105. Filling Bookcase Shelves</a></li><li class="sidebar-sub-header"><a href="/coding/2021/algorithm/dp.html#_1246-palindrome-removal" class="sidebar-link">1246. Palindrome Removal</a></li></ul></li><li><a href="/coding/2021/algorithm/graph.html" class="sidebar-link">å›¾ å’Œ æ ‘</a></li><li><a href="/coding/2021/algorithm/linkedlist.html" class="sidebar-link">é“¾è¡¨</a></li><li><a href="/coding/2021/algorithm/matrix.html" class="sidebar-link">çŸ©é˜µ</a></li><li><a href="/coding/2021/algorithm/search.html" class="sidebar-link">æ‰«ææ³•</a></li><li><a href="/coding/2021/algorithm/stack.html" class="sidebar-link">æ ˆ</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>åŠ¨æ€è§„åˆ’</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Xiang Liu</span>
          Â Â 
          <!---->
          2021
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>åŠ¨æ€è§„åˆ’</h1> <hr> <div data-v-34ea29db><i class="iconfont reco-account" data-v-34ea29db><span data-v-34ea29db>Xiang Liu</span></i> <i class="iconfont reco-date" data-v-34ea29db><span data-v-34ea29db>2021-01-14</span></i> <!----> <i class="iconfont reco-tag tags" data-v-34ea29db><span class="tag-item" data-v-34ea29db>Leetcode</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><p><big>æœ€é•¿é€’å¢å­åºé—®é¢˜</big></p> <div class="custom-block right"><p>ğŸ“¦ æ•°ç»„çš„æœ€é•¿é€’å¢å­åºåˆ—, ä¸€ç»´, äºŒç»´, Nç»´</p> <ul><li>300</li> <li>354</li> <li>435</li> <li>646</li> <li>452</li></ul></div> <div card="undefined" class="el-tabs el-tabs--top"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"><div class="el-tabs__active-bar is-top" style="width:0px;transform:translateX(0px);ms-transform:translateX(0px);webkit-transform:translateX(0px);"></div></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_300-longest-increasing-subsequence"><a href="#_300-longest-increasing-subsequence" class="header-anchor">#</a> 300. Longest Increasing Subsequence</h2> <div class="language- extra-class"><pre class="language-text"><code>Input: [10,9,2,5,3,7,101,18]
Output: 4 
Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4
</code></pre></div><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>è§£æ³•ï¼š <code>dp[i] = max(dp[i], dp[j] + 1 if Aj &lt; Ai) for j in 1:i</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;ç”Ÿæˆä¸‹é¢è¿™ä¸ªDPæ•°ç»„
A   10 9  2  5  3  7  101  18
dp  1  1  1  2  2  3  4    4
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>n
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span>
</code></pre></div><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>â¡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>è§£æ³•ï¼š ç›¸å½“äºæœ‰ä¸€å¹…æ— åºçš„æ‰‘å…‹ç‰Œ, ç°åœ¨è¦ä»å¤´éå†æ¯ä¸€å¼ ç‰Œå¹¶æŠŠä»–æ”¾åœ¨æ¯”å®ƒå¤§çš„ç‰Œä¸Šé¢(å¦‚æœæœ‰å¤šä¸ªå †å¯ä»¥æ”¾, æ”¾æœ€å·¦è¾¹ä¸Šé¢), å¦‚æœæ²¡æœ‰æ¯”å®ƒå¤§çš„ç‰Œå †, åˆ™åœ¨æœ€å³è¾¹æ–°åŠ ä¸€ä¸ªç‰Œå †, æœ€åå †çš„æ•°é‡å°±æ˜¯ç­”æ¡ˆ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;è¿‡ç¨‹å¦‚ä¸‹, æ‰‘å…‹ç‰Œä¼˜å…ˆæ”¾é å·¦è¾¹çš„å †, æˆ‘è¦æ‰¾æœ€å°çš„ i ä½¿å¾— top[i] &gt; poker
    2       
    9       3               18
    10      5       7       101
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token comment"># å¯¹äºŒåˆ†æœç´¢è‡ªå·±è¿˜ä¸æ˜¯å¾ˆç†Ÿç»ƒ</span>
    piles<span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        poker <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> piles <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> l <span class="token operator">&lt;</span> r<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            <span class="token keyword">if</span> poker <span class="token operator">&lt;=</span> top<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>   r <span class="token operator">=</span> mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>                   l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">if</span> top <span class="token keyword">and</span> top<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> poker<span class="token punctuation">:</span>
            top<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> poker
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            piles <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> top<span class="token punctuation">.</span>append<span class="token punctuation">(</span>poker<span class="token punctuation">)</span>
    <span class="token keyword">return</span> piles
</code></pre></div></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_354-russian-doll-envelopes"><a href="#_354-russian-doll-envelopes" class="header-anchor">#</a> 354. Russian Doll Envelopes</h2> <div class="language- extra-class"><pre class="language-text"><code>Input: envelopes = [[5,4],[6,4],[6,7],[2,3]]
Output: 3
Explanation: The maximum number of envelopes you can Russian doll is 3 ([2,3] =&gt; [5,4] =&gt; [6,7])
</code></pre></div><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>åšæ³•ï¼šè¿˜æ˜¯å’Œä¹‹å‰é‚£é“é¢˜ä¸€æ ·, ç¬¬ä¸€ç»´åº¦é€’å¢, ç¬¬äºŒç»´åº¦é€’å‡, è¿™æ ·é¿å…äº†<code>[4,6], [4,7]</code>è¢«ç®—æˆå¥—å¨ƒçš„æƒ…å†µ, å®é™…ä¸Šç”±äºç¬¬ä¸€ç»´åº¦ç›¸åŒ, è¿™æ˜¯ä¸è¢«å…è®¸çš„</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
1. å¦‚æœç¬¬äºŒç»´åº¦ä¹Ÿé€’å¢
[[2, 3], [5, 4], [6, 5], [6, 7]] =&gt; [3,4,5,7] å¾—åˆ°ans=4, æ˜¾ç„¶ä¸å¯¹
2. å¦‚æœç¬¬äºŒç»´åº¦é€’å‡
[[2, 3], [5, 4], [6, 7], [6, 5]] =&gt; [3,4,7,5] å¾—åˆ°ans=3, ç­”æ¡ˆå¯ä»¥
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">maxEnvelopes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> envelopes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>envelopes<span class="token punctuation">)</span><span class="token punctuation">;</span> res<span class="token punctuation">,</span> dp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> n
    envelopes<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> envelopes<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> envelopes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span>
</code></pre></div><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>â¡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>åšæ³•ï¼š å’Œä¹‹å‰ä¸€æ ·, ç¬¬äºŒç»´åº¦å°±æ˜¯ä¸€ä¸ªæœ€é•¿é€’å¢å­åºé—®é¢˜, æ‰€ä»¥åœ¨ç¬¬äºŒç»´åº¦é™åºæ’åˆ—å, å¯ä»¥ç”¨äºŒåˆ†æœç´¢åŠ é€Ÿ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxEnvelopes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> envelopes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>envelopes<span class="token punctuation">)</span><span class="token punctuation">;</span> piles<span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    envelopes<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        poker <span class="token operator">=</span> envelopes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> piles <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> l <span class="token operator">&lt;</span> r<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            <span class="token keyword">if</span> top<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> poker<span class="token punctuation">:</span>      r <span class="token operator">=</span> mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>                      l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">if</span> top <span class="token keyword">and</span> top<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> poker<span class="token punctuation">:</span>    <span class="token comment">#æ˜¯ç­‰äº, å› ä¸ºæˆ‘ä»¬å°½å¯èƒ½å‡å°‘å †æ•°, ç›¸ç­‰ä¸èƒ½å¢åŠ å †</span>
            top<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> poker
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            piles <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> top<span class="token punctuation">.</span>append<span class="token punctuation">(</span>poker<span class="token punctuation">)</span>
    <span class="token keyword">return</span> piles
</code></pre></div></div></div></div> <hr><p><big>è‚¡ç¥¨é—®é¢˜</big></p> <div class="custom-block right"><p>ğŸ“¦ æ€ä¹ˆä¹°å–èµšé’±æœ€å¤š</p> <ul><li>121</li> <li>123</li> <li>309</li> <li>122</li> <li>188</li> <li>714</li></ul></div> <p>å®šä¹‰ä¸€ä¸ªä¸‰ç»´æ•°ç»„, <code>dp[i][j][k]</code>ä»£è¡¨ç¬¬<code>i</code>å¤©ç¬¬<code>j</code>æ¬¡äº¤æ˜“(å…ˆä¹°å†å–ç®—ä¸€æ¬¡), æœ€åæ‰‹é‡Œæ˜¯å¦æŒæœ‰è‚¡ç¥¨<code>k</code>æ‰€æŒæœ‰çš„æ€»åˆ©æ¶¦</p> <div class="language- extra-class"><pre class="language-text"><code>dp[i][j][0] = max(dp[i-1][j][0], dp[i-1][j][1] + prices[i])
dp[i][j][1] = max(dp[i-1][j][1], dp[i-1][j-1][0] - prices[i])
</code></pre></div><ul><li>ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>å¤©æˆ‘æ²¡æœ‰æŒæœ‰è‚¡ç¥¨, è¦ä¹ˆæ˜¯æˆ‘æ˜¨å¤©å°±æ²¡æœ‰æŒæœ‰, ä»Šå¤©ç»§ç»­é—²ç€; è¦ä¹ˆæ˜¯æˆ‘æ˜¨å¤©æŒæœ‰è‚¡ç¥¨, ä»Šå¤©å–æ‰, æ‰€ä»¥æˆ‘ä»Šå¤©æ²¡æœ‰æŒæœ‰è‚¡ç¥¨äº†</li> <li>ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>å¤©æˆ‘æŒæœ‰è‚¡ç¥¨, è¦ä¹ˆæˆ‘æ˜¨å¤©å°±æŒæœ‰ç€è‚¡ç¥¨, ä»Šå¤©ç»§ç»­é—²ç€; è¦ä¹ˆæ˜¯æˆ‘æ˜¨å¤©æ²¡æœ‰æŒæœ‰è‚¡ç¥¨, ä»Šå¤©ä¹°å…¥ä¸€è‚¡, ä»Šå¤©æ‰æŒæœ‰è‚¡ç¥¨</li></ul> <div card="undefined" class="el-tabs el-tabs--top"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"><div class="el-tabs__active-bar is-top" style="width:0px;transform:translateX(0px);ms-transform:translateX(0px);webkit-transform:translateX(0px);"></div></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_121-best-time-to-buy-and-sell-stock"><a href="#_121-best-time-to-buy-and-sell-stock" class="header-anchor">#</a> 121. Best Time to Buy and Sell Stock</h2> <p><strong>é—®é¢˜</strong>ï¼š å¯ä»¥åœ¨æŸä¸€å¤©è´­å…¥ä¸€è‚¡, ä¹‹åå–æ‰, æ±‚æœ€å¤§æ”¶ç›Š</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [7,1,5,3,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
</code></pre></div><details class="custom-block details"><summary>See More</summary> <div class="language- extra-class"><pre class="language-text"><code>å› ä¸ºåªèƒ½è¿›è¡Œä¸€æ¬¡äº¤æ˜“, å› ä¸ºdp[n][0][0] = 0(ä¸€æ¬¡äº¤æ˜“æ²¡å‘ç”Ÿ, ä¸”æ²¡æœ‰è´­ä¹°è¡Œä¸º),
æ‰€ä»¥çŠ¶æ€è½¬ç§»åŒäº¤æ˜“æ¬¡æ•°æ— å…³

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i])
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]) 
            = max(dp[i-1][1], 0-prices[i])       
</code></pre></div><p>åŒæ ·æˆ‘ä»¬å‘ç°çŠ¶æ€è½¬ç§»åªå’Œæ˜¨å¤©æ˜¯å¦æŒæœ‰è‚¡ç¥¨æœ‰å…³ç³», å› è€Œå¯ä»¥è¿›ä¸€æ­¥ç”¨ä¸¤ä¸ªå˜é‡æ¥ä»£æ›¿æ•°ç»„</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;å…¶å®ç›´æ¥ç”¨å½“å‰æ•°å­—å‡å»ä¹‹å‰é‡åˆ°çš„æœ€å°æ•°å­—å³å¯
dp0: æ­¤åˆ»æ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
dp1: æ­¤åˆ»æ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp0<span class="token punctuation">,</span> dp1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> price <span class="token keyword">in</span> prices<span class="token punctuation">:</span>
        dp0 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp0<span class="token punctuation">,</span> dp1<span class="token operator">+</span>price<span class="token punctuation">)</span>
        dp1 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> <span class="token operator">-</span>price<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp0
</code></pre></div></details></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_122-best-time-to-buy-and-sell-stock-ii"><a href="#_122-best-time-to-buy-and-sell-stock-ii" class="header-anchor">#</a> 122.Best Time to Buy and Sell Stock II</h2> <p><strong>é—®é¢˜</strong>ï¼š å¯ä»¥è¿›è¡Œå¤šæ¬¡äº¤æ˜“</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [7,1,5,3,6,4]
Output: 7
Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. 
Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.
</code></pre></div><details class="custom-block details"><summary>See More</summary> <div class="language- extra-class"><pre class="language-text"><code>åœ¨è¿™é“é¢˜ä¸­, kæ˜¯æ­£æ— ç©·çš„, é‚£ä¹ˆå°±å¯ä»¥è®¤ä¸º k å’Œ k - 1 æ˜¯ä¸€æ ·çš„, å› æ­¤ç¬¬äºŒä¸ªç»´åº¦æ²¡æ„ä¹‰

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i])
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]) 
</code></pre></div><p>åŒæ ·æˆ‘ä»¬å‘ç°çŠ¶æ€è½¬ç§»åªå’Œæ˜¨å¤©æ˜¯å¦æŒæœ‰è‚¡ç¥¨æœ‰å…³ç³», å› è€Œå¯ä»¥è¿›ä¸€æ­¥ç”¨ä¸¤ä¸ªå˜é‡æ¥ä»£æ›¿æ•°ç»„, ä½†æ˜¯åœ¨æ›´æ–°ç¬¬äºŒä¸ªå˜é‡çš„æ—¶å€™ç”¨çš„æ˜¯ç¬¬ä¸€ä¸ªå˜é‡æ›´æ–°å‰çš„ç»“æœ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp0<span class="token punctuation">,</span> dp1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> price <span class="token keyword">in</span> prices<span class="token punctuation">:</span>
        old_dp0 <span class="token operator">=</span> dp0
        dp0 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp0<span class="token punctuation">,</span> dp1<span class="token operator">+</span>price<span class="token punctuation">)</span>
        dp1 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> old_dp0<span class="token operator">-</span>price<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp0
</code></pre></div></details></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_123-best-time-to-buy-and-sell-stock-iii"><a href="#_123-best-time-to-buy-and-sell-stock-iii" class="header-anchor">#</a> 123. Best Time to Buy and Sell Stock III</h2> <p><strong>é—®é¢˜</strong>ï¼š æœ€å¤šä¸¤æ¬¡äº¤æ˜“</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [3,3,5,0,0,3,1,4]
Output: 6
Explanation: Buy on day 4 (price = 0) and sell on day 6 (price = 3), profit = 3-0 = 3. 
Then buy on day 7 (price = 1) and sell on day 8 (price = 4), profit = 4-1 = 3.
You can only do 2 trades !
</code></pre></div><details class="custom-block details"><summary>See More</summary> <div class="language- extra-class"><pre class="language-text"><code>åœ¨è¿™é“é¢˜ä¸­, äº¤æ˜“æ¬¡æ•°æœ‰é™åˆ¶å¹¶ä¸” j = 2, æ‰€ä»¥è¦è€ƒè™‘ç¬¬äºŒä¸ªç»´åº¦(ç©·ä¸¾k=2,k=1æ¬¡äº¤æ˜“çš„æƒ…å†µ)

dp[i][j][0] = max(dp[i-1][j][0], dp[i-1][j][1] + prices[i])
dp[i][j][1] = max(dp[i-1][j][1], dp[i-1][j-1][0] - prices[i]) 
</code></pre></div><p>ç”¨äºŒç»´æ•°ç»„é¿å…å‡ºé”™, ä¸»è¦å°±æ˜¯æ³¨æ„ä¸€ä¸‹ä¹°çš„æ—¶å€™, æ˜¯å¦å·²ç»è¶…è¿‡ä¸¤æ¬¡äº¤æ˜“äº†, ç„¶åçŠ¶æ€æ›´æ–°çš„é¡ºåºä»åå¾€å‰</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token comment"># dp: time x trade</span>
    dp0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">3</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    dp1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">3</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> price <span class="token keyword">in</span> prices<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>price<span class="token punctuation">)</span>
            dp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>price<span class="token punctuation">)</span>
            dp0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token keyword">return</span> dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre></div></details></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><strong>é—®é¢˜</strong>ï¼š æœ€å¤š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>æ¬¡äº¤æ˜“</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [2,4,1], k = 2
Output: 2
Explanation: Buy on day 1 (price = 2) and sell on day 2 (price = 4), profit = 4-2 = 2.
</code></pre></div><details class="custom-block details"><summary>See More</summary> <p>å’Œä¸Šé¢é‚£é“é¢˜çš„æ¨¡æ¿ä¸€æ¨¡ä¸€æ ·, åªæ˜¯è¦æ³¨æ„æœ‰ä¸ªspecial case, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>çš„å€¼éå¸¸å¤§, å¯¼è‡´å†…å­˜è¶…å‡º, è§£å†³çš„åŠæ³•å°±æ˜¯åŠ çº¦æŸæ¡ä»¶ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>â‰¤</mo><mi>N</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">K \leq N/2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/</span><span class="mord">2</span></span></span></span>, å› ä¸ºæ¯æ¬¡äº¤æ˜“è¦è‡³å°‘ä¸¤ä¸ªé˜¶æ®µæ‰èƒ½å®Œæˆ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> prices<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>prices<span class="token punctuation">)</span><span class="token punctuation">;</span> max_k <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> n<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">2</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>max_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>max_k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>       <span class="token comment">#ç‰¹æ®Šæƒ…å†µå¤„ç†ä¸€ä¸‹</span>
                dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>   
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre></div></details></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_309-best-time-to-buy-and-sell-stock-with-cooldown"><a href="#_309-best-time-to-buy-and-sell-stock-with-cooldown" class="header-anchor">#</a> 309. Best Time to Buy and Sell Stock with Cooldown</h2> <p><strong>é—®é¢˜</strong>ï¼š åœ¨ä¹°å…¥ä¹‹å‰å¿…é¡»è‡³å°‘ä¼‘æ¯ä¸€å¤©, è¿˜æ˜¯æ— é™äº¤æ˜“æ¬¡æ•°</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [7,1,5,1,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit =6-1 = 5. 
cannot sell on day 3 and buy again on day 4
</code></pre></div><details class="custom-block details"><summary>See More</summary> <div class="language- extra-class"><pre class="language-text"><code>åœ¨è¿™é“é¢˜ä¸­, äº¤æ˜“æ¬¡æ•°æ— é™åˆ¶, æ‰€ä»¥ç¬¬äºŒä¸ªç»´åº¦è¿˜æ˜¯æ²¡æœ‰æ„ä¹‰
ç„¶åcooldownçš„è¯, é™åˆ¶äº†ä¹°å…¥è¡Œä¸º, å³å¿…é¡»ä»dp[i-2][0]é‚£é‡Œè·å¾—ä¹‹å‰æ— æŒæœ‰çŠ¶æ€çš„æœ€ä½³åˆ©æ¶¦

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i])
dp[i][1] = max(dp[i-1][1], dp[i-2][0] - prices[i]) 
</code></pre></div><p>æ— æŒæœ‰å¿…é¡»ä¿å­˜<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69841em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>âˆ’</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">t-2</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69841em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>çš„ä¿¡æ¯, è€ŒæŒæœ‰ä»…é¡»ä¿å­˜<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t-1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69841em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>çš„ä¿¡æ¯</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;æ¯”å¦‚ input = [1,2,3,0,2]

&gt;&gt; p=1      dp0=[0,0,0]     dp1=-1       
&gt;&gt; p=2      dp0=[0,0,1]     dp1=-1
&gt;&gt; p=3      dp0=[0,1,2]     dp1=-1    æ¯æ¬¡æŠŠdp0[1,2]æ¬è¿åˆ°dp0[0,1]
&gt;&gt; p=0      dp0=[1,2,2]     dp1= 1
&gt;&gt; p=2      dp0=[2,2,?]     dp1= 1    ?=3, å› ä¸ºç¬¬1,2å¤©å®Œæˆä¸€æ¬¡, ç¬¬4å¤©å·²ç»å¯ä»¥ç»§ç»­ä¹°äº†
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span>
    dp1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> price <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>prices<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp0<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        dp0<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp1 <span class="token operator">+</span> price<span class="token punctuation">)</span>
        dp1 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> dp0<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> price<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp0<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div></details></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_714-best-time-to-buy-and-sell-stock-with-transaction-fee"><a href="#_714-best-time-to-buy-and-sell-stock-with-transaction-fee" class="header-anchor">#</a> 714. Best Time to Buy and Sell Stock with Transaction Fee</h2> <p><strong>é—®é¢˜</strong>ï¼š æ²¡æœ‰å†·å†»æœŸ, ä½†æ˜¯æ¯æ¬¡äº¤æ˜“éƒ½è¦äº¤ä¸€ä¸ªæ‰‹ç»­è´¹</p> <div class="language- extra-class"><pre class="language-text"><code>Input: [1,2,4,0,2], fee=2
Output: 1
Explanation: Buy on day 1 and sell on day 3, get profit of 1
</code></pre></div><details class="custom-block details"><summary>See More</summary> <div class="language- extra-class"><pre class="language-text"><code>åœ¨è¿™é“é¢˜ä¸­, äº¤æ˜“æ¬¡æ•°æ— é™åˆ¶, æ‰€ä»¥ç¬¬äºŒä¸ªç»´åº¦è¿˜æ˜¯æ²¡æœ‰æ„ä¹‰
æœ‰æ‰‹ç»­è´¹ç›¸å½“äºå–çš„æ—¶å€™å¤šäº¤ä¸€ç¬”é’±, æ³¨æ„feeåŠ åˆ°ä¸Šé¢ä¼šå­˜åœ¨dp1ä¸èƒ½å†å‡å°çš„é—®é¢˜

dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i])
dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]-fee) 
</code></pre></div><p>ç”¨ä¸¤ä¸ªå˜é‡æ¥ä»£æ›¿æ•°ç»„, åœ¨æ›´æ–°ç¬¬äºŒä¸ªå˜é‡çš„æ—¶å€™ç”¨çš„æ˜¯ç¬¬ä¸€ä¸ªå˜é‡æ›´æ–°å‰çš„ç»“æœ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prices<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fee<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp0<span class="token punctuation">,</span> dp1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> price <span class="token keyword">in</span> prices<span class="token punctuation">:</span>
        old_dp0 <span class="token operator">=</span> dp0
        dp0 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp0<span class="token punctuation">,</span> dp1<span class="token operator">+</span>price<span class="token punctuation">)</span>
        dp1 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> old_dp0 <span class="token operator">-</span> price <span class="token operator">-</span> fee<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp0
</code></pre></div></details></div></div></div> <hr><p><big>èƒŒåŒ…é—®é¢˜</big></p> <div class="custom-block right"><p>ğŸ“¦ æ€ä¹ˆå°½å¯èƒ½åœ¨æœ‰é™ç©ºé—´çš„èƒŒåŒ…é‡Œå°½å¯èƒ½å¤šåœ°è£…è´§</p> <ul><li>473</li> <li>279</li></ul></div> <div class="custom-block tip"><div card="undefined" class="el-tabs el-tabs--top"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"><div class="el-tabs__active-bar is-top" style="width:0px;transform:translateX(0px);ms-transform:translateX(0px);webkit-transform:translateX(0px);"></div></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_322-coin-change"><a href="#_322-coin-change" class="header-anchor">#</a> 322. Coin Change</h2> <p><strong>é—®é¢˜</strong>: ç”¨æœ€å°‘çš„ç¡¬å¸å‡‘é½é¢†é’±(amount)</p> <p><strong>ä¾‹å­</strong>: æ¯”å¦‚ &quot;coins = [1, 2, 5], amount = 11&quot; ç­”æ¡ˆæ˜¯æœ€å°‘ä¸‰æšç¡¬å¸å°±å¯ä»¥æå®š, æ‰€ä»¥è¿”å›<code>3</code>, å¦‚æœæä¸å®šè¿”å›<code>-1</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># åŠ¨æ€è§„åˆ’, æ¸…æ™°æ˜äº†, æ¯”å¦‚ coins = [2,5,1]</span>

dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">4</span>   <span class="token number">5</span>   <span class="token number">6</span>   <span class="token number">7</span>   <span class="token number">8</span>   <span class="token number">9</span>  <span class="token number">10</span>  <span class="token number">11</span>
<span class="token function">add</span> <span class="token number">2</span>    <span class="token number">0</span>  <span class="token number">12</span>   <span class="token number">1</span>  <span class="token number">12</span>   <span class="token number">2</span>  <span class="token number">12</span>   <span class="token number">3</span>  <span class="token number">12</span>   <span class="token number">4</span>  <span class="token number">12</span>   <span class="token number">5</span>  <span class="token number">12</span>
<span class="token function">add</span> <span class="token number">5</span>    <span class="token number">0</span>  <span class="token number">12</span>   <span class="token number">1</span>  <span class="token number">12</span>   <span class="token number">2</span>   <span class="token number">1</span>   <span class="token number">3</span>   <span class="token number">2</span>   <span class="token number">4</span>   <span class="token number">3</span>   <span class="token number">2</span>  <span class="token number">12</span>
<span class="token function">add</span> <span class="token number">1</span>    <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">2</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">3</span>   <span class="token number">2</span>   <span class="token number">3</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">coinChange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> coins<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span>amount<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> coin <span class="token keyword">in</span> coins<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>coin<span class="token punctuation">,</span> amount<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>coin<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> amount<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">else</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> 
</code></pre></div></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_518-coin-change-2"><a href="#_518-coin-change-2" class="header-anchor">#</a> 518. Coin Change 2</h2> <p><strong>é—®é¢˜</strong>ï¼š å’Œä¸Šé¢é‚£é“é¢˜å·®ä¸å¤š, åªæ˜¯é—®ä½ è¦å‡‘å¤Ÿ<code>amount</code>, ç”¨æ‰‹é‡Œè¿™å †ç¡¬å¸, æ€»å…±æœ‰å¤šå°‘ç§ä¸åŒç»„åˆæ–¹å¼</p> <p><strong>ä¾‹å­</strong>ï¼š æ¯”å¦‚ä¹‹å‰é‚£ä¸ªä¾‹å­æ€»å…±æœ‰11ç§æ–¹å¼å‡‘åˆ°é‚£ä¸ªæ•°</p> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># åŠ¨æ€è§„åˆ’, æ¸…æ™°æ˜äº†, æ¯”å¦‚ coins = [2,5,1]</span>
<span class="token comment"># - è¿˜æ²¡æ›´æ–°çš„dp[i]ä»£è¡¨ä¸addå½“å‰è¿™ä¸ªcoinæ—¶çš„ç­”æ¡ˆ</span>
<span class="token comment"># - dp[i-coin]ä»£è¡¨ç­”æ¡ˆä¸­å¿…é¡»åŒ…å«å½“å‰è¿™ä¸ªcoinçš„ç­”æ¡ˆä¸ªæ•°</span>

dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">4</span>   <span class="token number">5</span>   <span class="token number">6</span>   <span class="token number">7</span>   <span class="token number">8</span>   <span class="token number">9</span>  <span class="token number">10</span>  <span class="token number">11</span>
<span class="token function">add</span> <span class="token number">2</span>    <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>
<span class="token function">add</span> <span class="token number">5</span>    <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span>
<span class="token function">add</span> <span class="token number">1</span>    <span class="token number">1</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">4</span>   <span class="token number">6</span>   <span class="token number">7</span>   <span class="token number">8</span>   <span class="token number">9</span>  <span class="token number">11</span>  <span class="token number">11</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> amount<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> coins<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> coin <span class="token keyword">in</span> coins<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>coin<span class="token punctuation">,</span> amount<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>coin<span class="token punctuation">]</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_416-partition-equal-subset-sum"><a href="#_416-partition-equal-subset-sum" class="header-anchor">#</a> 416. Partition Equal Subset Sum</h2> <p><strong>é—®é¢˜</strong>ï¼š åˆ¤æ–­æ˜¯å¦å¯ä»¥æŠŠä¸€ç»„æ•°å­—åˆ†æˆä¸¤å †ï¼Œä¸¤å †æ•°å­—çš„å’Œç›¸ç­‰</p> <p><strong>ä¾‹å­</strong>ï¼š &quot;[1, 2, 3, 8]&quot;, ä¸å¯ä»¥åˆ†æˆç›¸ç­‰çš„ä¸¤å †, è¿”å›FALSE</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># åŠ¨æ€è§„åˆ’, æ¸…æ™°æ˜äº†, æ¯”å¦‚ nums=[3, 1, 2, 8]</span>
<span class="token comment"># - dp[i]ä»£è¡¨ä¸åŠ å½“å‰numæƒ…å†µä¸‹, total=iæ˜¯å¦å‡‘å¾—é½</span>
<span class="token comment"># - dp[i-num]ä»£è¡¨è¿™ä¸€å †ä¸€å®šåŒ…å«å½“å‰numçš„æƒ…å†µä¸‹, total=iæ˜¯å¦å‡‘å¾—é½</span>

dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token number">0</span>   <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">4</span>   <span class="token number">5</span>   <span class="token number">6</span>   <span class="token number">7</span>
<span class="token function">add</span> <span class="token number">3</span>    T   F   F   T   F   F   F   F 
<span class="token function">add</span> <span class="token number">1</span>    T   T   F   T   T   F   F   F 
<span class="token function">add</span> <span class="token number">2</span>    T   T   T   T   T   T   T   F 
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">canPartition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    target <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">if</span> target <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>
    target <span class="token operator">=</span> target <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>target <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">|</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>num<span class="token punctuation">]</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_494-target-sum"><a href="#_494-target-sum" class="header-anchor">#</a> 494. Target Sum</h2> <p><strong>é—®é¢˜</strong>ï¼š ç»™å®šä¸€ä¸ªæ•°ç»„, æ¯ä¸€ä¸ªæ•°å­—å‰é¢å¯ä»¥åŠ ï¼‹æˆ–è€…ï¼, ç„¶ååŠ èµ·æ¥è¦ç­‰äºä¸€ä¸ªç»™å®šçš„æ•°å­—, è¯·é—®æœ‰å¤šå°‘ç§ä¸åŒçš„assignment(è¿™äº›ç¬¦å·)</p> <p><strong>ä¾‹å­</strong>ï¼š <code>nums=[1, 1, 1, 1, 1], S=3</code>, ä¸€å…±æœ‰5ç§, å…¶å®å°±æ˜¯&quot;(sum(nums)-S) / 2&quot;ä½œä¸ºèƒŒåŒ…çš„è´Ÿè½½, ç„¶åçœ‹æœ‰å¤šå°‘ä¸ªåŠ å’Œå¯èƒ½</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># ä¹Ÿæ˜¯ä¿æŒä»åå¾€å‰æ›´æ–°, å› ä¸ºä¸€ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡</span>
<span class="token keyword">def</span> <span class="token function">findTargetSumWays</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> S<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    target <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> S
    <span class="token keyword">if</span> target <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">or</span> target <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>
    target <span class="token operator">=</span> target <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>target <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>num<span class="token punctuation">]</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">or</span> <span class="token number">0</span>
</code></pre></div></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><h2 id="_474-ones-and-zeroes"><a href="#_474-ones-and-zeroes" class="header-anchor">#</a> 474. Ones and Zeroes</h2> <p><strong>é—®é¢˜</strong>ï¼š æˆ‘ä»¬ç°åœ¨ä»æ•°ç»„ä¸­æ¯ä¸ªå­—ç¬¦ä¸²éƒ½æœ‰ä¸€äº›<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, é—®ç»™äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, ä»æ•°ç»„ä¸­å–å‡ºæœ€å¤šçš„å­—ç¬¦ä¸²,è¿™äº›å­—ç¬¦ä¸²ä¸­1å’Œ0çš„å‡ºç°æ¬¡æ•°ä¹‹å’Œä¸è¶…è¿‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m,n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span></span></span></span></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¾“å…¥ï¼šstrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;10&quot;</span>, <span class="token string">&quot;0001&quot;</span>, <span class="token string">&quot;111001&quot;</span>, <span class="token string">&quot;1&quot;</span>, <span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span>, m <span class="token operator">=</span> <span class="token number">5</span>, n <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€å¤šæœ‰ <span class="token number">5</span> ä¸ª <span class="token number">0</span> å’Œ <span class="token number">3</span> ä¸ª <span class="token number">1</span> çš„æœ€å¤§å­é›†æ˜¯ <span class="token punctuation">{</span><span class="token string">&quot;10&quot;</span>,<span class="token string">&quot;0001&quot;</span>,<span class="token string">&quot;1&quot;</span>,<span class="token string">&quot;0&quot;</span><span class="token punctuation">}</span> 
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;åŠ¨æ€è§„åˆ’, é€ä¸ªæ‰«æ, dp[i][j] = max(dp[i][j], dp[i-zero#][j-one#]+1)

           [0, 0, 0, 0]                    [0, 0, 0, 0]
           [0, 1, 1, 1]                    [0, 1, 1, 1]
           [0, 1, 1, 1]                    [0, 1, 1, 1]
           [0, 1, 1, 1]                    [0, 1, 1, 1]
           [0, 1, 1, 1]                    [0, 1, 2, 2]
           [0, 1, 1, 1]                    [0, 1, 2, 2]
å·¦è¾¹æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦'10'æ‰«å®Œåç¬¦åˆè¦æ±‚çš„, å³m&gt;=1, n&gt;=1éƒ½ç¬¦åˆ
å³è¾¹æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦'0001'æ‰«å®Œå, å¦‚æœæŠŠå‰ä¸¤ä¸ªå­—ç¬¦éƒ½åŠ è¿›æ¥, éœ€è¦è‡³å°‘4ä¸ª0å’Œ2ä¸ª1, å› æ­¤åªæœ‰m&gt;=4, n&gt;=2ä¸Šæ‰æ˜¾ç¤º2
&quot;&quot;&quot;</span>

<span class="token keyword">def</span> <span class="token function">findMaxForm</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">,</span> m<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">#m 0' and n 1'</span>
    <span class="token keyword">for</span> x <span class="token keyword">in</span> strs<span class="token punctuation">:</span>
        zero<span class="token punctuation">,</span> one <span class="token operator">=</span> x<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> zero<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> one<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span>zero<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>one<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div></div></div></div></div> <h2 id="_923-3sum-with-multiplicity"><a href="#_923-3sum-with-multiplicity" class="header-anchor">#</a> 923. 3Sum With Multiplicity</h2> <div class="custom-block tip"><p><strong>é—®é¢˜</strong>ï¼š åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾å‡ºæœ‰å¤šå°‘ç»„åˆçš„å’Œæ˜¯target</p> <p><strong>ä¾‹å­</strong>ï¼š è§ä¸‹é¢ç­”æ¡ˆæ˜¯æ€»å…±<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span>ç§ä¸‰ä¸ªæ•°ç»„åˆåŠ èµ·æ¥ç­‰äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span></p> <div class="language-bash extra-class"><pre class="language-bash"><code>Input: A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1,1</span>,2,2,3,3,4,4,5,5<span class="token punctuation">]</span>, target <span class="token operator">=</span> <span class="token number">8</span>
Output: <span class="token number">20</span>
Explanation: 
Enumerating by the values <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span>, A<span class="token punctuation">[</span>j<span class="token punctuation">]</span>, A<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>:
<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">5</span><span class="token punctuation">)</span> occurs <span class="token number">8</span> <span class="token builtin class-name">times</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">)</span> occurs <span class="token number">8</span> <span class="token builtin class-name">times</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">2</span>, <span class="token number">2</span>, <span class="token number">4</span><span class="token punctuation">)</span> occurs <span class="token number">2</span> <span class="token builtin class-name">times</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">3</span><span class="token punctuation">)</span> occurs <span class="token number">2</span> times.
</code></pre></div><details class="custom-block details"><summary>See More</summary> <p>ä¼ ç»Ÿåšæ³•æ˜¯åˆ©ç”¨3-sumçš„è§£æ³•, å…ˆç»Ÿè®¡æ¯ä¸ªæ•°çš„é¢‘ç‡, ç„¶åéå†è¿™ä¸ªè®¡æ•°å™¨, è¦æ±‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>â‰¤</mo><msub><mi>x</mi><mn>2</mn></msub><mo>â‰¤</mo><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_1 \leq x_2 \leq x_3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ‘</mo><mi>x</mi><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">\sum x = k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>, ç„¶åæ ¹æ®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_1, x_2, x_3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å…³ç³»åˆ†ç±»è®¨è®º, <code>choose N from K</code>è¿™ç§, è¿™ç§æ–¹æ³•å¯¹äº3ä¸ªæ•°è¿˜ç®—å‹å¥½, ä½†å¦‚æœä¸é™åˆ¶ä¸ªæ•°åˆ™ä¸å¥½åš</p> <p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åŠ¨æ€è§„åˆ’<code>dp[i][j][k]è¡¨ç¤ºå½“å‰ä¸‹æ ‡ä¸ºi,å’Œä¸ºj,å·²ç»ç”¨äº†kä¸ªæ•°å­—çš„æ–¹æ¡ˆæ•°%mod</code>, è½¬ç§»æ–¹ç¨‹ä¸º<code>dp[i][j][k] = (dp[i-1][j][k] + dp[i-1][j-arr[i]][k-1])%mod</code>, æˆ‘ä»¬æœŸæœ›å¾—åˆ°ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">k=3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>ä¸ªæ•°å­—, æ€»å’Œä¸ºtarget=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>çš„ç­”æ¡ˆä¸ªæ•°</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">threeSumMulti</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arr<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token comment"># dp[i][j][k] += dp[i-1][j-arr[i]][k-1]</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> mod <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">**</span><span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>target<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cur <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cur<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>j<span class="token operator">-</span>cur<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> mod<span class="token punctuation">)</span><span class="token punctuation">:</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-=</span> mod
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div><p>åŠ¨æ€è§„åˆ’å¦‚ä¸‹</p> <div class="language- extra-class"><pre class="language-text"><code>è¾“å…¥ï¼š [1,3,3,0,1], target=4
å¯åŠ¨ï¼š ç”Ÿæˆ 4 x (target+1) çš„çŸ©é˜µ, æ³¨æ„æˆ‘ä»¬è¦åˆå§‹åŒ–dp[0][0]=1, ç¬¬ä¸€è¡Œå°±è¿™ä¸ªä½œç”¨, ä½¿å¾—arr[i]æ¬¡æ•°ç­‰äº 1

scan i=0, arr[i]=1, ä½¿ç”¨1ä¸ªæ•°å­—+æ€»å’Œç­‰äº1çš„ç­”æ¡ˆæ˜¯1
[0, 1, 0, 0, 0]
[0, 0, 0, 0, 0]
[0, 0, 0, 0, 0]

scan i=1, arr[i]=3, ç¬¬äºŒæ’ 4 - 3 åœ¨ç¬¬ä¸€æ’ä¸­æœ‰ä¸€ä¸ªå€¼, å› æ­¤ç­‰äº1, å¯¹åº”[3,1]
[0, 1, 0, 1, 0]
[0, 0, 0, 0, 1]
[0, 0, 0, 0, 0]

scan i=2, arr[i]=3, ç¬¬äºŒæ’ 4 - 3 åœ¨ç¬¬ä¸€æ’ä¸­æœ‰ä¸€ä¸ªå€¼, å› æ­¤åŠ ä¸Š1, å¯¹åº”[3,1]
[0, 1, 0, 2, 0]
[0, 0, 0, 0, 2]
[0, 0, 0, 0, 0]

scan i=3, arr[i]=0, ç¬¬ä¸‰æ’ 4 - 0 åœ¨ç¬¬äºŒæ’ä¸­æœ‰ä¸¤ä¸ªå€¼, å› æ­¤ç­‰äº2, å¯¹åº”ä¸¤ä¸ª[0,3,1]
[1, 1, 0, 2, 0]
[0, 1, 0, 2, 2]
[0, 0, 0, 0, 2]

scan i=4, arr[i]=1, ç¬¬ä¸‰æ’ 4 - 1 åœ¨ç¬¬äºŒæ’ä¸­æœ‰ä¸¤ä¸ªå€¼, å› æ­¤åŠ ä¸Š2, å¯¹åº”ä¸¤ä¸ª[1,0,3]
[1, 2, 0, 2, 0]
[0, 2, 1, 2, 4]
[0, 0, 1, 0, 4]
</code></pre></div></details></div> <hr><h2 id="_413-arithmetic-slices"><a href="#_413-arithmetic-slices" class="header-anchor">#</a> 413. Arithmetic Slices</h2> <div class="custom-block tip"><p class="custom-block-title">ç­‰å·®æ•°åˆ—åˆ’åˆ†</p> <p><strong>é—®é¢˜</strong>ï¼š æ‰¾å‡ºä¸€ä¸ªæ•°ç»„æœ‰å¤šå°‘ä¸ªç­‰å·®æ•°åˆ—(è‡³å°‘ä¸‰ä¸ªæ•°)</p> <p><strong>ä¾‹å­</strong>ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A = [1, 2, 3, 4]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>, æœ‰<code>[1,2,3]; [2,3,4]; [1,2,3,4]</code>å››ä¸ªç­‰å·®æ•°åˆ—ï¼Œæ•°åˆ—å¿…é¡»æ˜¯è¿ç»­æ•°å­—ï¼Œå¦‚æœå…è®¸éè¿ç»­ä¼šéš¾å¾ˆå¤š</p> <p>é¦–å…ˆå¦‚æœæš´åŠ›ç ´è§£çš„è¯</p> <ul><li>æ‰¾ä¸€ä¸ªå¼€å¤´<code>s</code>, æ‰¾ä¸€ä¸ªç»“å°¾<code>e=s+2</code>, çœ‹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>s</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>âˆ’</mo><mi>A</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>=</mo><mo>=</mo><mi>A</mi><mo stretchy="false">[</mo><mi>s</mi><mo>+</mo><mn>2</mn><mo stretchy="false">]</mo><mo>âˆ’</mo><mi>A</mi><mo stretchy="false">[</mo><mi>s</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[s+1]-A[s]==A[s+2]-A[s+1]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>å¦‚æœå¯ä»¥æ„æˆç­‰å·®æ•°åˆ—, å°±ç»§ç»­å¾€å³æŒªåŠ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>, ä»£è¡¨å¯ä»¥ä»¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>ä¸ºèµ·ç‚¹åˆ›å»ºé•¿åº¦æ›´é•¿çš„ç­‰å·®æ•°åˆ—</li> <li>ä¸€æ—¦ä¸è¡Œ, å°±åœæ­¢æŒªåŠ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>, è½¬è€Œç”¨æ–°çš„èµ·å§‹ç‚¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>å»æ‰¾æ–°çš„<code>difference</code></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;æ³¨æ„åŠ¨æ€è§„åˆ’å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´, å› ä¸ºdp[i]åªå’Œdp[i-1]æœ‰å…³ç³», æ‰€ä»¥ä¸éœ€è¦æ•°ç»„

A   1  3  5  7  9 15 20 25 28 29
dp  0  0  1  2  3  0  0  1  0  0
&quot;&quot;&quot;</span>                       
<span class="token keyword">def</span> <span class="token function">numberOfArithmeticSlices</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> A<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n<span class="token punctuation">;</span> res <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> A<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">==</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>A<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span>
</code></pre></div><p><img src="/coding/assets/img/lc-413.786ea74a.png#center" alt="413. Arithmetic Slices"></p></div> <h2 id="_1105-filling-bookcase-shelves"><a href="#_1105-filling-bookcase-shelves" class="header-anchor">#</a> 1105. Filling Bookcase Shelves</h2> <div class="custom-block tip"><p class="custom-block-title">å¡«å……ä¹¦æ¶(éœ€è¦ä¸€å®šå›æº¯)</p> <p><strong>é—®é¢˜</strong>ï¼š è¦æ±‚æŠŠä¹¦(ä¸åŒåšåº¦å’Œé«˜åº¦)æŒ‰ç…§é¡ºåºæ”¾åœ¨ä¸€ä¸ªä¹¦æŸœé‡Œ(åˆ†å±‚), è¿™ä¸ªä¹¦æ¶æ˜¯æœ‰å›ºå®šå®½åº¦çš„, ä½†æ˜¯å¯ä»¥ä¸æ–­åŠ å±‚ã€‚</p> <p><strong>ä¾‹å­</strong>ï¼š books(å®½åº¦,é«˜åº¦) = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[[1,1],[2,3],[2,3],[1,1],[1,1],[1,1],[1,2]]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span>, shelf_width = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>, è§ä¸‹å›¾</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
ç”¨åŠ¨æ€è§„åˆ’åš, dp[i] = æ”¾ç½®å‰ i æœ¬ä¹¦çš„æœ€å°é«˜åº¦, ä¸Šä¸€å±‚çš„ä¹¦ä¹Ÿè®¸åº”è¯¥æ”¾ä¸‹æ¥æœ€å¥½, å› ä¸ºè¿™ä¸€å±‚ç›®å‰åªæœ‰ä¸€æœ¬ä¹¦
    æŠŠå½“å‰è¿™æœ¬ä¹¦å°½é‡æ”¾åœ¨åŒä¸€å±‚, å¦‚æœè¶…äº†ä¹¦æŸœçš„å®½åº¦, åˆ™åŠ ä¸€å±‚
    å–å€¼èŒƒå›´æ³¨æ„ä¸€ä¸‹, æœ€å¤š1000æœ¬ä¹¦, æœ€é«˜1000, æ‰€ä»¥dp[i]æœ‰æœ€å¤§å€¼
    è¿™é“é¢˜ä¸å¥½ç”¨äºŒåˆ†æ³•, åŸå› çœ‹ä¸‹å›¾, å³ä½¿æœ‰é«˜åº¦é™åˆ¶, æ€ä¹ˆæ”¾è¿˜æ˜¯æœ‰æŠ€å·§
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">minHeightShelves</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> books<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> shelf_width<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1000000</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> book <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">:</span>
        add_w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> max_h <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            add_w <span class="token operator">+=</span> books<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> add_w <span class="token operator">&gt;</span> shelf_width<span class="token punctuation">:</span>
                <span class="token keyword">break</span>
            max_h <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_h<span class="token punctuation">,</span> books<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                
            dp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> max_h<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="/coding/assets/img/lc-1105.c2bf9465.png#center" alt=""></p></div> <h2 id="_1246-palindrome-removal"><a href="#_1246-palindrome-removal" class="header-anchor">#</a> 1246. Palindrome Removal</h2> <div class="custom-block tip"><p class="custom-block-title">åˆ é™¤å›æ–‡å­æ•°ç»„</p> <p><strong>é—®é¢˜</strong>ï¼š æ¯æ¬¡å¯ä»¥åˆ é™¤ä¸€ä¸ªå›æ–‡å­æ•°ç»„(ä¸æ˜¯å­å­—ç¬¦ä¸², å°±æ˜¯è¯´å¿…é¡»æ˜¯é‚»è¿‘çš„æ‰å¯ä»¥), é—®å¤šå°‘æ¬¡å¯ä»¥åˆ é™¤å¹²å‡€</p> <p><strong>ä¾‹å­</strong>ï¼š &quot;arr = [1,3,4,1,5]&quot;, å…ˆå…ˆåˆ é™¤ &quot;[4]&quot;, ç„¶ååˆ é™¤ &quot;[1,3,1]&quot;, æœ€åå†åˆ é™¤ &quot;[5]&quot;</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
ä¸»è¦æ˜¯è€ƒè™‘ arr[i, j] éœ€è¦å¤šå°‘æ­¥
    å¦‚æœ i=j, æˆ‘ä»¬å¯ä»¥ç›´æ¥è€ƒè™‘ arr[i+1, j-1] 
    ä½†ä¹Ÿä¸ä¸€å®š, å› ä¸ºæœ‰å¯èƒ½ i æ˜¯å’Œå‰é¢çš„æŸäº›å­—ç¬¦ä¸²å·²ç»ç»„æˆäº† palindrome, æ‰€ä»¥æ‰ä¼šæœ‰å€’æ•°ç¬¬äºŒæ­¥å–ä¸¤ä¸ªä¹‹é—´çš„æœ€ä¼˜
&quot;&quot;&quot;</span>
<span class="token keyword">def</span> <span class="token function">minimumMoves</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> A<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    N <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> N <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">helper</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> j<span class="token operator">=</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">:</span>  <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">if</span> j <span class="token operator">==</span> i<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">1</span>
        <span class="token keyword">if</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        res<span class="token punctuation">,</span> tmp <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> A<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> k <span class="token operator">==</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment">#they are right next to each other</span>
                    tmp <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> helper<span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    tmp <span class="token operator">=</span> helper<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> helper<span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> helper<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
    
    <span class="token keyword">return</span> helper<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/coding/assets/img/lc-1246.cc434be3.png#center" alt=""></p></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´: </span> <span class="time">4/6/2021, 12:08:48 AM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/coding/assets/js/app.069c872b.js" defer></script><script src="/coding/assets/js/4.42152b27.js" defer></script><script src="/coding/assets/js/1.41496a03.js" defer></script><script src="/coding/assets/js/32.aab5bb1b.js" defer></script>
  </body>
</html>
